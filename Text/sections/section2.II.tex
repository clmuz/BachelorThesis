%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Размер возмущения}

Коэффициент $d$ отвечает за то, насколько сильно будет возмущаться текущая оценка для получения следующих аргументов функционала. То есть, насколько $k_n^{+}$ и $k_n^{-}$ будут отличаться от $\hat{k}_{n - 1}$. На рисунке \ref{fig:arg-d} можно увидеть зависимость модулярности от размера возмущения при $f(\mu, k) = -10 \ln \mu,\ \sigma = 500,\ \hat{k}_0 = 10$.

На графах \emph{cnr-2000} и \emph{eu-2005} значения модулярности не очень сильно менялись в зависимости от параметра $d$, хотя некоторые значения $d$ и давали более большие значения. Однако на графах \emph{cond-mat-2003} и \emph{caidaRouterLevel} после некоторого порогового значения возмущения модулярность показывала, что получившееся разбиение не лучше случайного.

\newpage~\vspace{-2.4cm}\\~
\begin{vwcol}[widths={0.99, 0.01}, rule=0pt]
\begin{figure}[H]
	\begin{tikzpicture}
		\begin{axis}[
		    table/col sep = semicolon,
		    height = 0.16\paperheight, 
		    width = 0.45\columnwidth,
		    xlabel = {$d$},
		    ylabel = {$Q$},
		    legend pos = north east,
		    no marks,
		    title = {cond-mat-2003},
		    cycle list name = diploma list,
		    y label style={at={(axis description cs:-0.14,.5)}, anchor=south},
		]
		\addplot table [x={d}, y={q}]{data/arg/d/cond_d.csv};
		\end{axis}
	\end{tikzpicture}
	\hskip 10pt
	\begin{tikzpicture}
		\begin{axis}[
		    table/col sep = semicolon,
		    height = 0.16\paperheight, 
		    width = 0.45\columnwidth,
		    xlabel = {$d$},
		    ylabel = {$Q$},
		    legend pos = south east,
		    no marks,
		    title = {caidaRouterLevel},
		    cycle list name = diploma list,
		    y label style={at={(axis description cs:-0.13,.5)}, anchor=south},
		]
		\addplot table [x={d}, y={q}]{data/arg/d/caida_d.csv};
		\end{axis}
	\end{tikzpicture}
	\begin{tikzpicture}
		\begin{axis}[
		    table/col sep = semicolon,
		    height = 0.16\paperheight, 
		    width = 0.45\columnwidth,
		    xlabel = {$d$},
		    ylabel = {$Q$},
		    legend pos = south east,
		    no marks,
		    title = {cnr-2000},
		    yticklabel style={/pgf/number format/fixed,
                  /pgf/number format/precision=3},
		    cycle list name = diploma list,
		    y label style={at={(axis description cs:-0.14,.5)}, anchor=south},
		]
		\addplot table [x={d}, y={q}]{data/arg/d/cnr_d.csv};
		\end{axis}
	\end{tikzpicture}
	\hskip 7pt
	\begin{tikzpicture}
		\begin{axis}[
		    table/col sep = semicolon,
		    height = 0.16\paperheight, 
		    width = 0.45\columnwidth,
		    xlabel = {$d$},
		    ylabel = {$Q$},
		    legend pos = south east,
		    no marks,
		    title = {eu-2005},
		    cycle list name = diploma list,
		    y label style={at={(axis description cs:-0.15,.5)}, anchor=south},
		]
		\addplot table [x={d}, y={q}]{data/arg/d/eu_d.csv};
		\end{axis}
	\end{tikzpicture}
	\caption{Зависимость модулярности от размера возмущения на четырёх графах}
	\label{fig:arg-d}
\end{figure}
~\\~\\~\\~\\~\\~\\~\\~\\~\\~\\~\\
\end{vwcol}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Количество итераций в одном шаге}

Параметр $\sigma$ указывает, как часто меняется $k$ в ходе работы \emph{ARG}. Так как в функции качества используется медиана прироста модулярности, а не прирост модулярности за все $\sigma$ итераций --- при изменении $\sigma$ нет необходимости менять функцию качества, модулярность прироста будет оставаться приблизительно такой же по величине, в то время как прирост модулярности линейно зависит от $\sigma$. Зависимость модулярности от количества итераций в одном шаге при $d = 5,\;f(\mu, k) = -10 \ln \mu,\;\hat{k}_0 = 10$ принимает такой вид:

\begin{figure}[H]
	\begin{tikzpicture}
		\begin{axis}[
		    table/col sep = semicolon,
		    height = 0.17\paperheight, 
		    width = 0.32\columnwidth,
		    xlabel = {$\sigma$},
		    ylabel = {$Q$},
		    legend pos = north east,
		    no marks,
		    title = {cond-mat-2003},
		    cycle list name = diploma list,
		]
		\addplot table [x={sigma}, y={q}]{data/arg/sigma/cond_sigma.csv};
		\end{axis}
	\end{tikzpicture}
	\hskip -0.01\columnwidth
	\begin{tikzpicture}
		\begin{axis}[
		    table/col sep = semicolon,
		    height = 0.17\paperheight, 
		    width = 0.32\columnwidth,
		    xlabel = {$\sigma$},
		    legend pos = south east,
		    no marks,
		    title = {caidaRouterLevel},
		    cycle list name = diploma list,
		]
		\addplot table [x={sigma}, y={q}]{data/arg/sigma/caida_sigma.csv};
		\end{axis}
	\end{tikzpicture}
	\hskip -0.01\columnwidth
	\begin{tikzpicture}
		\begin{axis}[
		    table/col sep = semicolon,
		    height = 0.17\paperheight, 
		    width = 0.32\columnwidth,
		    xlabel = {$\sigma$},
		    legend pos = south east,
		    no marks,
		    title = {cnr-2000},
		    yticklabel style={/pgf/number format/fixed,
                  /pgf/number format/precision=3},
		    cycle list name = diploma list,
		]
		\addplot table [x={sigma}, y={q}]{data/arg/sigma/cnr_sigma.csv};
		\end{axis}
	\end{tikzpicture}
	\caption{Зависимость модулярности от значения $\sigma$ на трёх графах. $\sigma$ принимает значения от 50 до 1400}
\end{figure}
\newpage
На всех трёх графах модулярность несильно, но непредсказуемо меняется при изменении $\sigma$. Во всех случаях есть хорошие и плохие значения $\sigma$, но в целом значения параметра достаточно равнозначны.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Начальное приближение}

Начальное приближение указывает, от какой точки будут строиться $k_1^{-}$ и $k_1^{+}$, с которыми будут проходить первые и вторые $\sigma$ итераций, соответственно. Зависимость модулярности от начального приближения $\hat{k}_0$ при $d = 5,\ f(\mu, k) = -10 \ln \mu,\ \sigma = 1000$ будет выглядеть следующим образом:

\begin{figure}[H]
	\begin{tikzpicture}
		\begin{axis}[
		    table/col sep = semicolon,
		    height = 0.16\paperheight, 
		    width = 0.31\columnwidth,
		    xlabel = {$\hat{k}_0$},
		    ylabel = {$Q$},
		    legend pos = north east,
		    no marks,
		    title = {cond-mat-2003},
		    cycle list name = diploma list,
		]
		\addplot table [x={k0}, y={q}]{data/arg/k0/cond_k0.csv};
		\end{axis}
	\end{tikzpicture}
	\hskip 0.01\columnwidth
	\begin{tikzpicture}
		\begin{axis}[
		    table/col sep = semicolon,
		    height = 0.16\paperheight, 
		    width = 0.31\columnwidth,
		    xlabel = {$\hat{k}_0$},
		    legend pos = south east,
		    no marks,
		    title = {caidaRouterLevel},
		    cycle list name = diploma list,
		]
		\addplot table [x={k0}, y={q}]{data/arg/k0/caida_k0.csv};
		\end{axis}
	\end{tikzpicture}
	\hskip 0.01\columnwidth
	\begin{tikzpicture}
		\begin{axis}[
		    table/col sep = semicolon,
		    height = 0.16\paperheight, 
		    width = 0.31\columnwidth,
		    xlabel = {$\hat{k}_0$},
		    legend pos = south east,
		    no marks,
		    title = {cnr-2000},
		    yticklabel style={/pgf/number format/fixed,
                  /pgf/number format/precision=3},
		    cycle list name = diploma list,
		]
		\addplot table [x={k0}, y={q}]{data/arg/k0/cnr_k0.csv};
		\end{axis}
	\end{tikzpicture}
	\caption{Зависимость модулярности от значения $\hat{k}_0$ на трёх графах}
	\label{fig:arg-k0}
\end{figure}

Как можно заметить, на разных графах модулярность ведёт себя по разному в зависимости от $\hat{k}_0$. График для графа \emph{cond-mat-2003} на рисунке \ref{fig:arg-k0} начинается от первого вхождения $\hat{k}_0 = 7$ (остальные от $\hat{k}_0 = 5$), так как при меньших значениях модулярность очень сильно падает. Это связано с тем, что $d = 5$ и следовательно $k_1^{-} = 1$, в то время как $RG_1$ часто работает сильно хуже $RG_k$ с параметром $k > 1$. Однако, как видно на рисунке, выгоднее использовать небольшое значение $\hat{k}_0$, хоть и большее $d + 1$.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Коэффициент $\beta$ функции качества}

Коэффициент $\beta$ функции качества \eqref{eq:arg-f} указывает на то, насколько много внимания алгоритм обращает на величину точек $k^{-}_n$ и $k^{+}_n$ при выборе следующей оценки. Предполагалось, что чем больше $\beta$, тем быстрее будет работать алгоритм, однако возможно будет находить более плохие разбиения. На рисунке \ref{fig:arg-beta} изображены результаты работы $ARG$ с параметрами $d = 5,\ \sigma = 1000,\ \hat{k}_0 = 8$, функция качества $f(\mu, k) = -10(\ln \mu - \beta \ln k)$ с разными значениями $\beta$ на графе \emph{cond-mat-2003}.

Время работы сначала увеличивается на небольших значениях параметра $\beta$, а затем постепенно падает, в то время как модулярность при уменьшении $\beta$ сначала постепенно падает, но после некоторого переломного значения $\beta$ сильно падает.

\begin{figure}[H]
	\begin{tikzpicture}
		\begin{axis}[
		    table/col sep = semicolon,
		    height = 0.16\paperheight, 
		    width = 0.95\columnwidth,
		    xlabel = {$\beta$},
		    ylabel = {$Q$},
		    legend pos = north east,
		    x tick label style = {align = center, rotate = 20, anchor = north east},
		    no marks,
		    cycle list name = diploma list,
		]
		\addplot table [x={beta}, y={q}]{data/arg/beta/cond_beta.csv};
		\end{axis}
	\end{tikzpicture}
	\begin{tikzpicture}
		\begin{axis}[
		    table/col sep = semicolon,
		    height = 0.16\paperheight, 
		    width = 0.95\columnwidth,
		    xlabel = {$\beta$},
		    ylabel = {$t$},
		    legend pos = north east,
		    no marks,
		    x tick label style = {align = center, rotate = 20, anchor = north east},
		    cycle list name = diploma list,
		]
		\addplot table [x={beta}, y={time}]{data/arg/beta/cond_beta.csv};
		\end{axis}
	\end{tikzpicture}
	\caption{Зависимость модулярности и времени от параметра функции качества $\beta$ на графе \emph{cond-mat-2003}}
	\label{fig:arg-beta}
\end{figure}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Сравнение ARG и RG}
\label{subsec:arg-res}

На таблицах \ref{tab:arg-res-q} и \ref{tab:arg-res-t} показано сравнение результатов работы рандомизированного жадного алгоритма и адаптивного рандомизированного жадного алгоритма. В качестве входных данных для рассмотрения выбраны 7 тестовых графов.

Рандомизированный жадный алгоритм в таблицах обозначается как $RG_k$. Адаптивный рандомизированный жадный алгоритм обозначается как $ARG_{\beta}$ с параметром функции качества $\beta$ в индексе, остальные параметры при этом равны $d = 5,\;f(\mu, k) = -10 (\ln \mu - \beta \ln k),\;\sigma = 1000,\;\hat{k}_0 = 8$. Такой набор параметров не гарантирует наилучший результат на каждом графе или даже наилучший в среднем по всем графам результат для адаптивного алгоритма, однако показывает неплохие результаты.

Оба алгоритма --- рандомизированные, поэтому на каждом отдельном запуске результат может оказаться очень хорошим или сравнительно плохим, однако даст мало сведений о качестве алгоритма. Поэтому для каждого графа производилось определённое количество запусков, и в качестве модулярности бралась медиана значений, а в качестве времени --- среднее, для повышения точности измерения времени.

Для графа \emph{as-22july06} производился 101 запуск, для \emph{cond-mat-2003} --- 51 запуск, для \emph{caidaRouterLevel} и \emph{cnr-2000} --- 11 запусков, для \emph{in-2004} --- пять запусков, и для \emph{eu-2005} --- три запуска.

Кроме того, в таблицу вошли результаты работы над автоматически сгенерированным графом \emph{auto40}, который уже появлялся в работе, к примеру в рисунке \ref{fig:q-auto13}. Для этого графа для повышения точности производилось 11 запусков.

\begin{table}[H]
	\caption{Модулярности разбиений, полученных в результате работы рандомизированного жадного алгоритма и адаптивного рандомизированного жадного алгоритма с разными параметрами на тестовых графах}
 	\label{tab:arg-res-q}
 	{\scriptsize
 	\begin{tabularx}{\textwidth}{Xrrrrrrrrr}\hline
 						& $RG_1$	& $RG_3$	& $RG_{10}$	& $RG_{50}$	& $ARG_0$	&$ARG_{0.01}$	&$ARG_{0.05}$	& $ARG_{0.1}$	& $ARG_{0.2}$	\\\hline
 	as-22july06			& 0.65281	& 0.64658	& 0.64024	& 0.63479	& 0.64262	& 0.64041	& 0.64264	& 0.64134	& 0.64192	\\
 	cond-mat-2003		& 0.00012	& 0.19727	& 0.70738	& 0.69403	& 0.71129	& 0.71232	& 0.71193	& 0.69749	& 0.56631	\\
 	auto40			 	& 0.78944	& 0.79988	& 0.80417	& 0.80273	& 0.80136	& 0.80145	& 0.80174	& 0.80152	& 0.80102	\\
 	caidaRouterLevel 	& 0.01938	& 0.81101	& 0.79883	& 0.79300	& 0.79970	& 0.80114	& 0.80216	& 0.80059	& 0.80176	\\
 	cnr-2000			& 0.90237	& 0.91192	& 0.91144	& 0.90997	& 0.91028	& 0.91041	& 0.91039	& 0.91108	& 0.91075	\\
 	eu-2005				& 0.92765	& 0.92559	& 0.91780	& 0.90416	& 0.91062	& 0.91047	& 0.91048	& 0.91199	& 0.91242	\\
 	in-2004				& 0.00026	& 0.97836	& 0.97185	& 0.97596	& 0.97614	& 0.97615	& 0.97616	& 0.97618	& 0.97588	\\\hline
 	\end{tabularx}
 	}
\end{table}

\begin{table}[H]
	\caption{Время работы (в миллисекундах) рандомизированного жадного алгоритма и адаптивного рандомизированного жадного алгоритма с разными параметрами на тестовых графах}
 	\label{tab:arg-res-t}
 	{\scriptsize
 	\begin{tabularx}{\textwidth}{Xrrrrrrrrr}\hline
 						& $RG_1$	& $RG_3$	& $RG_{10}$	& $RG_{50}$	& $ARG_0$	&$ARG_{0.01}$	&$ARG_{0.05}$	& $ARG_{0.1}$	& $ARG_{0.2}$	\\\hline
 	as-22july06			& 177		& 189		& 231		& 464		& 238		& 241		& 238		& 233		& 222		\\
 	cond-mat-2003		& 58		& 184		& 463		& 931		& 477		& 477		& 474		& 476		& 351		\\
 	auto40			 	& 4,652		& 4,591		& 6,017		& 12,558	& 6,526		& 6,807		& 6,479		& 6,428		& 6,105		\\
 	caidaRouterLevel 	& 852		& 9,114		& 10,244	& 15,217	& 11,573	& 11,607	& 11,514	& 11,509	& 11,220	\\
 	cnr-2000			& 26,083	& 26,056	& 27,137	& 33,592	& 30,033	& 30,465	& 29,054	& 29,971	& 29,784	\\
 	eu-2005				& 202,188	& 200,686	& 207,689	& 246,170	& 233,761	& 226,869	& 225,748	& 226,427	& 266,038	\\
 	in-2004				& 9,208		& 487,953	& 553,196	& 607,408	& 622,813	& 625,124	& 617,345	& 640,454	& 616,187	\\\hline
 	\end{tabularx}
 	}
\end{table}

В большинстве случаев один или несколько параметров $k$ дают рандомизированному жадному алгоритму лучшие результаты, чем результаты адаптивного рандомизированного алгоритма, однако адаптивный вариант даёт более стабильные результаты. Можно заметить, что небольшие значения параметра $\beta$ дают лучшие результаты, чем нулевое значение, а при более б\'{о}льших значениях параметра время работы алгоритма уменьшается, но незначительно. В таблицу не попали результаты алгоритмов со значениями $\beta$ больше 0.2, где время работы действительно сильно снижалось, однако и значения модулярности получались слишком маленькими.

$ARG$ можно сравнить с $RG_{10}$, так как он тоже даёт стабильные результаты, в отличии от $RG_{1},\ RG_{3}$. Однако заметно, что \emph{ARG} в большинстве случаев даёт б\'{о}льшую модулярность.
